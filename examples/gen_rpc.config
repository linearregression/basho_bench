%% Consult http://docs.basho.com/riak/latest/ops/building/benchmarking/#Configuration
%%  

% Run test for one minute
{duration, 1}.

%% 5 ops * number of concurrent test clients
%% Why 5? my old laptop crash
{mode, {rate, 5}}.
%% 10 test clients 
{concurrent, 1}.

{distribute_work, false}.
{remote_nodes, ['gen_rpc_slave@127.0.0.1']}.

{driver, basho_bench_driver_gen_rpc}.

%% These few are gen_rpc specific
%% 
{gen_rpc_client_target_nodes, ['gen_rpc_target@127.0.0.1']}.
{gen_rpc_client_benchmark, ['gen_rpc_bench@127.0.0.1']}.
{gen_rpc_client_cookie, 'genrpc'}. % default is 'gen_rpc' in code
%%  {gen_rpc_port, 9160}. unsupported at the moment

%% Call pattern generator 
{key_generator, {int_to_str, {uniform_int, 50}}}.

{value_generator, {fixed_bin, 10}}.

%% What and how to call test function in gen_rpc test driver
%% Just an example, for every 10 calls, 6 are call, 2 cast, 2 safe_cast
{operations, [{call, 4}
              ,{call_lamda, 2}
              ,{cast, 2}
              ,{safe_cast, 2}]}.

%% Path to your deps and your required deps 
{code_paths, ["./deps/gen_rpc/ebin"

]}.
